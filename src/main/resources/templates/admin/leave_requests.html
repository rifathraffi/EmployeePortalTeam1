<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<script type="text/javascript">

</script>
	<meta charset="ISO-8859-1">
	<title>Leave Requests</title>
	<link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />
	<script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
</head>
<body>

<header>
<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #A5A6BA;">

  <li class="nav-item active" style="list-style-type:none">
        <a class="nav-link"th:href="@{/admin/users}" style="color: white;">Home <span class="sr-only">(current)</span></a>
      </li>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

 
      <li target="_top" class="nav-item dropdown" style="list-style-type:none">
        <a class="nav-link dropdown-toggle" href="#" style="color: white;" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Options
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          
          <a class="dropdown-item" href="javascript: document.logoutForm.submit()">Logout</a><form name="logoutForm" th:action="@{/admin/logout}" method="post" th:hidden="true">
      <input hidden type="submit" value="Logout"/>
</form> 
      </li>
     

</nav>
</header><br>

<div class="container text-center">
	<div>
		
			<p>
				<h2>Leave Requests</h2></b>
			</p>
		
	</div>
	

	
	<div>
		<table class="table table-striped table-bordered">
			<thead class="thead-dark">
				<tr>
					<th>Emp id</th>
					<th>Email</th>
					<th>Start Date</th>
					<th>End Date</th>
					<th>Number of Days</th>
					<th>Reason</th>
					<th>Action</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="leave: ${listOfLeaves}">
					<td th:text="${leave.empid}"/>
					<td th:text="${leave.email}"/>
					<td th:text="${leave.startDate}"/>
					<td th:text="${leave.endDate}"/>
					<td th:text="${leave.numOfDays}"/>
					<td th:text="${leave.reason}"/>
					<td style='white-space: nowrap' th:switch="${leave.status}">
					<p th:case="'Approved'">Approved</p>
					<p th:case="'Rejected'">Rejected</p>
					<p th:case="'Pending'">
					<a th:href="@{/admin/approveLeave/{id}(id = ${leave.id})}" class="btn btn-primary ml-2">Approve</a>
										
					<a th:href="@{/admin/rejectLeave/{id}(id = ${leave.id})}" class="btn btn-primary ml-2">Reject</a>
					</p>
					</td>
					</tr>
			</tbody>
		</table>
	</div>
</div>
</body>
</html>